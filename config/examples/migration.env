# Data Migration Project Configuration Example
# Copy relevant sections to your config/config.env file
# For migrating from legacy systems to new platforms

# ==============================================
# REMOTE DATABASE (Legacy System)
# ==============================================
REMOTE_HOST="legacy-db.oldcompany.com"
REMOTE_PORT="3306"
REMOTE_USER="migration_user"
REMOTE_PASS="migration_secure_password"

# ==============================================
# LOCAL DATABASE (New System)
# ==============================================
LOCAL_USER="new_system_admin"
LOCAL_PASS="new_system_password"
LOCAL_HOST="new-db.company.com"
LOCAL_PORT="3306"

# ==============================================
# MIGRATION-SPECIFIC SETTINGS
# ==============================================
# Legacy databases to migrate
SYNC_DATABASES="legacy_customers,legacy_orders,legacy_products,legacy_users,legacy_transactions"

# Selective table migration with transformation
TABLE_SYNC_CONFIG_MULTILINE="
legacy_customers:modern_customers:customer_profiles,customer_contacts,customer_preferences
legacy_orders:modern_orders:order_headers,order_items,order_status_history
legacy_products:modern_catalog:product_master,product_categories,product_attributes
legacy_users:modern_auth:user_accounts,user_roles,user_permissions
legacy_transactions:modern_finance:payment_records,transaction_history
legacy_inventory:modern_inventory:stock_levels,warehouse_locations
legacy_logs:modern_audit:access_logs,change_logs,error_logs
"

# Conservative threading for data integrity
MAX_THREADS=3
MAX_RETRY_ATTEMPTS=5
RETRY_DELAY=60

# Clear naming for migrated data
LOCAL_DB_PREFIX="migrated_"

# ==============================================
# MIGRATION OPTIMIZATIONS
# ==============================================
# Detailed progress tracking
PROGRESS_REPORT_INTERVAL=15
MONITOR_REFRESH_INTERVAL=3

# Extended backup retention for migration audit
BACKUP_RETENTION_DAYS=365

# Comprehensive logging for migration tracking
DEBUG_MODE="true"
LOG_LEVEL="INFO"

# Modern character sets
CHARSET="utf8mb4"
COLLATION="utf8mb4_unicode_ci"

# Flexible SQL mode for legacy compatibility
SQL_MODE="TRADITIONAL"

# ==============================================
# MIGRATION RELIABILITY
# ==============================================
# Extended timeouts for legacy system connectivity
MYSQL_CONNECT_TIMEOUT=180
MYSQL_READ_TIMEOUT=3600

# Comprehensive validation for migration
VALIDATE_CONFIG="true"
TEST_CONNECTIONS="true"

# Preserve existing data during migration phases
DROP_EXISTING_TABLE="false"

# ==============================================
# MIGRATION NOTIFICATIONS
# ==============================================
# Migration team notifications
ENABLE_EMAIL_NOTIFICATIONS="true"
EMAIL_TO="migration-team@company.com,project-manager@company.com"
EMAIL_FROM="data-migration@company.com"

# Project tracking integration
ENABLE_WEBHOOK_NOTIFICATIONS="true"
WEBHOOK_URL="https://hooks.slack.com/services/YOUR/MIGRATION/WEBHOOK"

# ==============================================
# LEGACY SYSTEM COMPATIBILITY
# ==============================================
# Special mysqldump options for legacy systems
MYSQLDUMP_OPTIONS="--set-gtid-purged=OFF --skip-add-locks --skip-lock-tables --single-transaction --routines --triggers --no-create-info --insert-ignore"

# Table-specific options for legacy data
MYSQLDUMP_TABLE_OPTIONS="--set-gtid-purged=OFF --skip-add-locks --skip-lock-tables --skip-triggers --single-transaction --complete-insert --extended-insert=FALSE --hex-blob"

# ==============================================
# MIGRATION PHASES
# ==============================================
# Phase 1: Structure and reference data
# TABLE_SYNC_CONFIG="legacy_customers:phase1_customers:customer_types,customer_categories"

# Phase 2: Core business data
# TABLE_SYNC_CONFIG="legacy_customers:phase2_customers:customer_profiles,customer_contacts"

# Phase 3: Historical data
# TABLE_SYNC_CONFIG="legacy_customers:phase3_customers:customer_history,customer_archived"

# ==============================================
# DATA VALIDATION SETTINGS
# ==============================================
# Import settings for validation
IMPORT_LOCAL_DB_PREFIX="validate_"
IMPORT_BACKUP_DIR="./migration-validation"

# ==============================================
# MIGRATION DOCUMENTATION
# ==============================================
# Document migration progress:
# 1. Pre-migration data counts
# 2. Post-migration verification
# 3. Data transformation rules applied
# 4. Any data quality issues found
# 5. Performance metrics per table
# 6. Rollback procedures if needed

# ==============================================
# POST-MIGRATION CLEANUP
# ==============================================
# After successful migration:
# 1. Archive migration backups
# 2. Update connection strings in applications
# 3. Verify application functionality
# 4. Monitor performance with new data
# 5. Plan legacy system decommissioning
